-----------------------------------------------------------------------------------------------------------------------------------------
-- VRP
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp","lib/Tunnel")
local Proxy = module("vrp","lib/Proxy")
vRP = Proxy.getInterface("vRP")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONEXÃO
-----------------------------------------------------------------------------------------------------------------------------------------
src = {}
Tunnel.bindInterface("vrp_business",src)
vSERVER = Tunnel.getInterface("vrp_business")
-----------------------------------------------------------------------------------------------------------------------------------------
-- SHOPLIST
-----------------------------------------------------------------------------------------------------------------------------------------
local shoplist = {
	{ 1,28.92,-1339.25,29.49 },
	{ 2,2549.33,385.58,108.62 },
	{ 3,1159.77,-315.24,69.20 },
	{ 4,-709.67,-905.40,19.21 },
	{ 5,-44.17,-1749.35,29.42 },
	{ 6,378.84,333.14,103.56 },
	{ 7,-3249.90,1005.10,12.83 },
	{ 8,1735.43,6420.46,35.03 },
	{ 9,545.70,2662.77,42.15 },
	{ 10,1959.91,3749.20,32.34 },
	{ 11,2673.17,3287.22,55.24 },
	{ 12,1706.82,4921.10,42.06 },
	{ 13,-1828.30,797.87,138.18 },
	{ 14,1391.00,3606.10,34.98 },
	{ 15,-2966.32,392.91,15.04 },
	{ 16,-3047.99,586.31,7.90 },
	{ 17,1134.51,-984.50,46.41 },
	{ 18,1163.94,2710.87,38.15 },
	{ 19,-1487.72,-376.58,40.16 },
	{ 20,-1220.27,-907.16,12.32 },
	{ 21,71.28,-1391.63,29.37 },
	{ 22,-709.14,-151.39,37.41 },
	{ 23,-165.10,-303.42,39.73 },
	{ 24,429.63,-807.34,29.49 },
	{ 25,-823.58,-1069.53,11.32 },
	{ 26,-1193.87,-766.19,17.31 },
	{ 27,-1448.67,-237.70,49.81 },
	{ 28,6.86,6508.77,31.87 },
	{ 29,1698.07,4822.38,42.06 },
	{ 30,127.37,-224.95,54.55 },
	{ 31,612.33,2763.11,42.08 },
	{ 32,1197.64,2714.30,38.22 },
	{ 33,-3169.04,1042.60,20.86 },
	{ 34,-1103.43,2714.24,19.10 },
	{ 35,1696.10,3760.50,34.70 },
	{ 36,250.08,-51.54,69.94 },
	{ 37,840.20,-1032.14,28.19 },
	{ 38,-327.81,6084.29,31.45 },
	{ 39,-660.06,-936.73,21.82 },
	{ 40,-1307.72,-396.06,36.69 },
	{ 41,-1115.18,2698.87,18.55 },
	{ 42,2565.70,295.73,108.73 },
	{ 43,-3169.76,1089.22,20.83 },
	{ 44,23.45,-1108.93,29.79 },
	{ 45,808.18,-2156.14,29.61 },
	{ 46,-821.90,-183.29,37.56 },
	{ 47,138.33,-1703.75,29.29 },
	{ 48,-1278.70,-1115.43,6.99 },
	{ 49,1928.08,3732.92,32.84 },
	{ 50,1216.84,-472.07,66.20 },
	{ 51,-32.68,-156.93,57.07 },
	{ 52,-274.14,6226.47,31.69 },
	{ 53,1324.05,-1649.65,52.27 },
	{ 54,-1152.63,-1423.24,4.95 },
	{ 55,319.54,180.21,103.58 },
	{ 56,-3169.77,1072.77,20.82 },
	{ 57,1866.65,3746.17,33.03 },
	{ 58,-296.70,6200.92,31.48 },
	{ 59,289.32,-1266.95,29.44 },
	{ 60,818.15,-1040.89,26.75 },
	{ 61,1211.16,-1388.95,35.37 },
	{ 62,1180.93,-329.80,69.31 },
	{ 63,642.22,260.42,103.29 },
	{ 64,2559.26,373.76,108.62 },
	{ 65,166.93,-1553.37,29.26 },
	{ 66,-342.51,-1474.99,30.74 },
	{ 67,1776.37,3327.49,41.44 },
	{ 68,46.68,2789.43,57.87 },
	{ 69,265.87,2598.21,44.84 },
	{ 70,1039.34,2664.24,39.55 },
	{ 71,1200.55,2655.73,37.85 },
	{ 72,2545.21,2591.92,37.95 },
	{ 73,2673.86,3266.97,55.24 },
	{ 74,2001.41,3779.87,32.18 },
	{ 75,1702.74,4916.96,42.07 },
	{ 76,1706.18,6425.68,32.77 },
	{ 77,180.63,6598.99,32.04 },
	{ 78,-92.65,6409.81,31.64 },
	{ 79,-2553.34,2315.94,33.22 },
	{ 80,-1800.09,803.63,138.65 },
	{ 81,-1427.96,-268.30,46.22 },
	{ 82,-2073.19,-327.32,13.31 },
	{ 83,-702.76,-916.76,19.21 },
	{ 84,-531.41,-1221.10,18.45 },
	{ 85,-70.81,-1762.08,29.65 },
	{ 86,-571.74,285.78,79.18 },
	{ 87,92.59,-1291.84,29.27 },
	{ 88,1982.44,3053.42,47.22 },
	{ 89,1121.05,-3144.85,-37.06 },
	{ 90,1001.05,-3170.24,-34.07 },
	{ 91,169.41,6644.18,31.72 },
	{ 92,-159.67,6319.98,31.6 },
	{ 93,-2543.14,2305.64,33.42 },
	{ 94,465.54,-701.34,27.52 },
	 { 95,465.60,-709.56,27.52 },
	 { 96,-1107.78,-1692.97,4.37 },
	 { 97,-1110.98,-1661.13,4.35 },
	 { 98,-1114.88,-1655.43,4.35 },
	 { 99,-1121.18,-1647.58,4.66 },
	 { 100,-1129.81,-1635.84,4.35 },
	 { 101,-1140.21,-1620.66,4.42 },
	 { 102,-1143.19,-1616.60,4.41 },
	 { 103,-1145.65,-1613.04,4.40 },
	 { 104,-1163.06,-1586.16,4.40 },
	 { 105,-1167.55,-1580.34,4.40 },
	 { 106,-1175.22,-1567.85,4.51 },
	 { 107,-1180.75,-1559.86,5.03 },
	 { 108,-1184.79,-1553.36,5.03 },
	 { 109,-1214.32,-1509.86,4.35 },
	 { 110,-1219.94,-1494.14,4.33 },
	 { 111,-1223.04,-1491.14,4.33 },
	 { 112,-1221.44,-1468.58,4.31 },
	 { 113,-1211.20,-1461.58,4.32 },
	 { 114,-1234.46,-1448.53,4.34 },
	 { 115,-1225.89,-1438.79,4.33 },
	 { 116,-1221.95,-1438.66,4.32 },
	 { 117,-1252.94,-1446.91,4.34 },
	 { 118,-1255.98,-1442.63,4.34 },
	 { 119,-1258.96,-1439.12,4.34 },
	 { 120,-1261.90,-1434.66,4.34 },
	 { 121,-1267.77,-1422.29,4.34 },
	 { 122,-1271.66,-1420.50,4.34 },
	 { 123,-1275.50,-1416.89,4.33 },
	 { 124,-1336.29,-1277.70,4.87 },
	 { 125,-1517.49,-918.58,10.16 },
	 { 126,-1533.59,-904.95,10.17 },
	 { 127,-1172.13,-1571.93,4.66 },
	 { 128,-1420.57,-709.22,24.60 },
	 { 129,-2223.16,-365.71,13.32 },
	 { 130,-242.05,279.86,92.03 },
	 { 131,398.00,175.73,103.85 },
	 { 132,802.21,-756.09,26.80 },
	 { 133,-657.62,-679.18,31.47 },
	 { 134,-2193.50,4290.09,49.17 },
	 { 135,-695.51,5802.11,17.33 },
	 { 136,-1845.05,-1195.68,19.18 },
	 { 137,-1463.34,-704.81,26.78 },
	 { 138,-1038.08,-1396.91,5.55 },
	 { 139,99.74,6620.39,32.43 },
	 { 140,726.58,-1071.43,28.31 },
	 { 141,-1139.76,-2005.82,13.18 },
	 { 142,-344.79,-122.82,39.00 },
	 { 143,548.43,-190.69,54.48 },
	 { 144,1135.35,-784.82,57.59 },
	 { 145,-238.73,-1397.66,31.28 },
	 { 146,1187.00,2636.83,38.40 },
	 { 147,-1040.69,-1474.88,5.58 },
	 { 148,216.69,-1522.85,29.29 },
	 { 149,219.27,-1530.51,29.29 },
	 { 150,131.73,-1771.29,29.62 },
	 { 151,-559.16,-872.56,27.13 },
	 { 152,-1387.35,-421.55,36.60 },
	 { 153,195.49,-1763.99,29.35 },
	 { 154,-564.99,-1051.82,22.32 },
	 { 155,-1459.29,-413.68,35.74 },
	 { 156,2748.03,3473.88,55.67 },
	 { 157,64.20,-1728.34,29.64 },
	 { 158,591.32,2744.20,42.04 },
	 { 159,237.73,-26.79,69.89 },
	 { 160,115.07,-4.63,67.81 },
	 { 161,174.94,-2025.49,18.32 },
	 { 162,271.54,-1508.55,29.18 },
	 { 163,87.31,-1669.61,29.19 },
	 { 164,-654.73,-885.43,24.67 },
	 { 165,8.71,-1599.03,29.29 },
	 { 166,650.51,2728.40,41.99 },
	 { 167,410.26,-1910.49,25.45 },
	 { 168,438.70,-1465.92,29.29 },
	 { 169,169.50,-1632.81,29.29 },
	 { 170,2581.64,464.77,108.62 },
	 { 171,-1186.89,-1535.54,4.37 },
	 { 172,143.13,-1519.91,29.83 },
	 { 173,133.69,-1462.01,29.35 },
	 { 174,166.33,-1451.14,29.24 },
	 { 175,99.61,-1418.37,29.42 },
	 { 176,-162.87,-1439.19,31.40 },
	 { 177,-180.50,-1428.20,31.30 },
	 { 178,44.21,-997.70,29.33 },
	 { 179,-263.06,-903.49,32.31 },
	 { 180,-1497.17,-225.33,51.31 },
	 { 181,-1182.84,-883.66,13.76 },
	 { 182,443.38,134.58,100.01 },
	 { 183,-1529.49,-908.70,10.16 },
	 { 184,-584.92,-872.39,25.86 },
	 { 185,-797.64,-632.87,29.02 },
	 { 186,-3047.27,616.08,7.32 },
	 { 187,-2963.55,432.22,15.27 },
	 { 188,-511.99,-683.00,33.17 },
	 { 189,-850.32,-251.93,40.04 },
	 { 190,-3023.54,80.95,11.60 },
	 { 191,-1353.97,-139.87,49.57 },
	 { 192,781.82,-1298.53,26.27 },
	 { 193,-591.78,-1153.53,25.85},
	 { 194,-849.15,-589.51,29.22 },
	 { 195,462.14,-717.64,27.35 },
	 { 196,-309.63,-825.33,32.42 },
	 { 197,-1268.44,-877.26,11.93 },
	 { 198,-1366.81,-208.53,44.43 },
	 { 199,-627.54,239.05,81.88 },
	 { 200,-688.70,315.28,83.10 },
	 { 201,-686.60,-854.18,23.89 },
	 { 202,-658.78,-813.38,24.53 },
	 { 203,-1548.72,-435.28,35.88 },
	 { 204,-1703.37,-1101.20,13.15 },
	 { 205,-508.81,-22.41,45.60 },
	 { 206,274.56,-833.21,29.27 }

}
-----------------------------------------------------------------------------------------------------------------------------------------
-- SHOPFUNCTIONS
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand("shop",function(source,args)
	local ped = GetPlayerPed(-1)
	local x,y,z = table.unpack(GetEntityCoords(ped))
	for k,v in pairs(shoplist) do
		local bowz,cdz = GetGroundZFor_3dCoord(v[2],v[3],v[4])
		local distance = GetDistanceBetweenCoords(v[2],v[3],cdz,x,y,z,true)
		if distance <= 2.5 then
			if args[1] == "comprar" then
				vSERVER.buyBusiness(v[1])
			elseif args[1] == "vender" then
				vSERVER.sellBusiness(v[1])
			elseif args[1] == "lavar" then
				vSERVER.laundBusiness(v[1],parseInt(args[2]))
			elseif args[1] == "investir" then
				vSERVER.investBusiness(v[1],parseInt(args[2]))
			elseif args[1] == "check" then
				vSERVER.checkBusiness(v[1])
			elseif args[1] == "info" then
				vSERVER.infoBusiness(v[1])
			elseif args[1] == "add" then
				vSERVER.addBusiness(v[1],parseInt(args[2]))
			elseif args[1] == "rem" then
				vSERVER.remBusiness(v[1],parseInt(args[2]))
			elseif args[1] == "trans" then
				vSERVER.transBusiness(v[1],parseInt(args[2]))
			else
				TriggerEvent("Notify","importante","<b>Comandos</b><br> <b>Comprar:</b> Comprar o estabelecimento.<br><b>Vender:</b> Vender o estabelecimento.<br><b>Lavar:</b> Lavagem de dinheiro.<br><b>Investir:</b> Investimento de dinheiro.<br><b>Check:</b> Informações do proprietário.<br><b>Info:</b> Informações do estabelecimento.<br><b>Trans:</b> Transfere o estabelecimento.<br><b>Add:</b> Adiciona o Socio.<br><b>Rem:</b> Remove o Socio.",20000)
			end
		end
	end
end)
